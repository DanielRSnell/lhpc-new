---
export const prerender = true;

import { Users, GitBranch, TrendingUp, Zap } from 'lucide-react';
import DefaultLayout from '@/layouts/DefaultLayout.astro';
import ProductHero from '@/components/dynmaic/product-hero';
import ProductDashboard from '@/components/dynmaic/product-dashboard';
import AIAutomation from '@/components/dynmaic/ai-automation';
import Features from '@/components/sections/features';
import Features2 from '@/components/sections/features2';;
import ProductLogs from '@/components/dynmaic/product-logs';
import CalComWidget from '@/components/sections/calcom-widget';

// Dashboard screenshots and feature cards
const dashboardScreenshots = [
  {
    src: '/lhpc/compute-pools.png',
    alt: 'Multi-department resource allocation',
  },
  {
    src: '/lhpc/workflow-configuration.png',
    alt: 'Self-service research portal',
  },
  {
    src: '/lhpc/silicone-allocation.png',
    alt: 'Per-project usage tracking',
  },
];

const dashboardFeatures = [
  {
    title: 'Self-Service Research Access',
    description: 'Researchers request resources directly with agentic UX—no IT bottlenecks or manual provisioning.',
    iconName: 'Users',
    cta: 'Learn More',
    href: '/product',
  },
  {
    title: 'Fair-Share Scheduling',
    description: 'Configure policies by department or project—ensure equitable access with priority for grant-funded work.',
    iconName: 'GitBranch',
    cta: 'See Policies',
    href: '/contact',
  },
  {
    title: 'Grant Reporting Automation',
    description: 'Detailed per-project usage metrics and automated reporting—justify infrastructure investments to funding agencies.',
    iconName: 'FileText',
    cta: 'View Reports',
    href: '/contact',
  },
  {
    title: 'Multi-Tenant Isolation',
    description: 'Secure separation for competing research groups—protect proprietary data and comply with regulations.',
    iconName: 'Zap',
    cta: 'Get Started',
    href: '/contact',
  },
];

// Hero chart data
const researchUtilizationData = [
  { time: '00:00', utilization: 52 },
  { time: '04:00', utilization: 48 },
  { time: '08:00', utilization: 65 },
  { time: '10:00', utilization: 75 },
  { time: '12:00', utilization: 82 },
  { time: '14:00', utilization: 88 },
  { time: '16:00', utilization: 92 },
  { time: '18:00', utilization: 85 },
  { time: '20:00', utilization: 78 },
  { time: '22:00', utilization: 68 },
  { time: '24:00', utilization: 58 },
];

// AI Automation workflow cards
const automationCards = [
  {
    id: 'genomics',
    title: 'Genomics Pipeline',
    subtitle: 'DNA sequencing analysis running across 150 nodes',
    iconName: 'FlaskConical',
    iconColor: 'text-purple-500',
    position: 'absolute top-0 left-0',
    isGenerating: false,
  },
  {
    id: 'climate',
    title: 'Climate Modeling',
    subtitle: 'Atmospheric simulations at 88% utilization',
    iconName: 'Users',
    iconColor: 'text-blue-500',
    position: 'absolute top-32 left-0',
    isGenerating: false,
  },
  {
    id: 'generating',
    title: 'AI Allocating Resources',
    subtitle: '',
    iconName: undefined,
    iconColor: '',
    position: 'absolute top-18 right-0',
    isGenerating: true,
  },
  {
    id: 'ml',
    title: 'ML Training',
    subtitle: 'Deep learning experiments for 45 research groups',
    iconName: 'Folder',
    iconColor: 'fill-green-500 text-green-500',
    position: 'absolute right-0 bottom-0',
    isGenerating: false,
  },
];

---

<DefaultLayout
  title="Amalgamy for Research Institutions - Democratize HPC Access"
  description="Universities and research centers maximize research output with Amalgamy's self-service access, fair-share scheduling, and automated grant reporting. Schedule a demo."
>
  <ProductHero
    client:load
    badge="Research Institutions"
    badgeSubtext="Universities • National Labs • Research Centers"
    headline="Democratize HPC Access for"
    headlineGradient="Every Researcher"
    description="Amalgamy delivers self-service access, fair-share scheduling, and multi-tenant isolation for universities, national labs, and research centers. Maximize research output with 57-85% higher utilization."
    chartData={researchUtilizationData}
    chartMetricLabel="Research Infrastructure Utilization"
    chartChangePercent="+26%"
    ctaPrimary="Schedule a Demo"
    ctaPrimaryHref="/contact"
    ctaSecondary="Download Brief"
    ctaSecondaryHref="/contact"
    trustLine="Supporting research institutions worldwide"
    showTerminal={true}
  />

  <ProductDashboard
    client:load
    title="Complete Visibility Into Multi-Tenant Research Infrastructure"
    tagline="Four Core Capabilities for Research Computing"
    screenshots={dashboardScreenshots}
    featureCards={dashboardFeatures}
  />

  <AIAutomation
    client:load
    aiPromptText="Optimize resource allocation across research projects"
    headline="Intelligent orchestration that"
    headlineGradient="accelerates scientific discovery"
    description="Amalgamy's fair-share scheduling runs genomics, climate modeling, and ML training side-by-side—automatically optimizing resource allocation while ensuring equitable access across departments and projects."
    cards={automationCards}
  />

  <Features client:load />

  <Features2 client:load />

  <ProductLogs
    client:load
    title="Trusted by"
    titleGradient="Leading Research Institutions"
    subtitle="Academic Excellence Through Advanced Orchestration"
    description="Amalgamy empowers universities, national labs, and research centers to maximize scientific output with democratized access and intelligent scheduling."
    ctaText="Schedule a Demo"
    ctaHref="/contact"
    showTerminal={true}
  />

  <CalComWidget
    client:load
    title="See Amalgamy in Action"
    subhead="Schedule a personalized demo with our team to see how Amalgamy can accelerate your institution's research"
    calLink="team/thisway/launch-hpc"
  />
</DefaultLayout>
